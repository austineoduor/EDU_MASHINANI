{% extends "base.html" %}
{% load static %}

{% block title %}{{ course.name }} | Learning{% endblock %}
<!-- <link rel="stylesheet" href="{% static 'Users/course_content.css' %}"> -->
{% block content %}
<div class="course-container">
    <header class="course-header">
        <h1>{{ course.name }}</h1>
        <p class="course-category">Learning Materials</p>
    </header>

    <section class="learning-materials">
        {% if course.materials.all %}
            <ul class="material-list">
                {% for material in course.materials.all %}
                    <li class="material-item">
                        <h3>{{ material.title }}</h3>

                        {% if material.video_url %}
                            <div class="video-wrapper">
                                <iframe width="100%" height="400" 
                                        src="{{ material.video_url }}"
                                        frameborder="0"
                                        allowfullscreen>
                                </iframe>
                            </div>
                        {% endif %}

                        {% if material.content %}
                            <p class="material-content">{{ material.content|linebreaks }}</p>
                        {% endif %}

                        {% if material.file %}
                            <p>
                                <a href="{{ material.file.url }}" class="btn" download>
                                    üìÑ Download Material
                                </a>
                            </p>
                        {% endif %}
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No learning materials have been uploaded for this course yet.</p>
        {% endif %}
    </section>

    <div class="return-link">
        <a href="{% url 'profile' id=request.user.id %}" class="btn">‚Üê Back to Profile</a>
    </div>
</div>
{% endblock %}